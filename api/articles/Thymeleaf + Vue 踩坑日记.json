{"title":"Thymeleaf + Vue 踩坑日记","uid":"c55adf8f2f7ba25675bdc074d37b636d","slug":"Thymeleaf + Vue 踩坑日记","date":"2019-07-25T05:48:43.000Z","updated":"2025-04-30T08:11:18.865Z","comments":true,"path":"api/articles/Thymeleaf + Vue 踩坑日记.json","keywords":null,"cover":null,"content":"<p>接收后端传过来的值: </p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 类型切换</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> opTypes = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#select_type_area&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// JSON.parse() 转换一下</span></span><br><span class=\"line\">        <span class=\"attr\">types</span>: <span class=\"title class_\">JSON</span>.<span class=\"title function_\">parse</span>([[$&#123;contentTypes&#125;]]),</span><br><span class=\"line\">        <span class=\"attr\">activeType</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">selected</span>: <span class=\"keyword\">function</span>(<span class=\"params\">type</span>) &#123;</span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"property\">activeType</span> = type</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>Thymeleaf 不支持 Vue 简写语法, 因为他默认使用的HTML严格检查, 下面的缩写都会报错: </p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 缩写 --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app-11&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 完整语法 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">v-bind:href</span>=<span class=\"string\">&quot;url&quot;</span>&gt;</span>...<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 缩写 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">:href</span>=<span class=\"string\">&quot;url&quot;</span>&gt;</span>...<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 完整语法 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">v-on:click</span>=<span class=\"string\">&quot;doSomething&quot;</span>&gt;</span>...<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 缩写 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">a</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;doSomething&quot;</span>&gt;</span>...<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>取消严格检查:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- thymeleaf模板对html5标签不使严格检查 --&gt;</span><br><span class=\"line\">&lt;dependency&gt;</span><br><span class=\"line\">\t&lt;groupId&gt;net.sourceforge.nekohtml&lt;/groupId&gt;</span><br><span class=\"line\">\t&lt;artifactId&gt;nekohtml&lt;/artifactId&gt;</span><br><span class=\"line\">\t&lt;version&gt;1.9.22&lt;/version&gt;</span><br><span class=\"line\">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>\n<p>添加配置: </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#默认严格检查</span><br><span class=\"line\">#spring.thymeleaf.mode=HTML5</span><br><span class=\"line\">#非严格检查</span><br><span class=\"line\">spring.thymeleaf.mode=LEGACYHTML5</span><br></pre></td></tr></table></figure>\n\n<p>Vue v-for 使用时必须符合语义,</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 此写法, todo.contentName 不会被解析--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;table01&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;tableList&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">tr</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;todo in todos&quot;</span>&gt;</span>&#123;&#123; todo.contentName &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 正确写法, 加上td标签--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;table01&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;tableList&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">tr</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;todo in todos&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span>&#123;&#123; todo.contentName &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 兼容合法 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;table01&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;tableList&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">tbody</span> <span class=\"attr\">is</span>=<span class=\"string\">&quot;button-counter&quot;</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;item in todos&quot;</span> <span class=\"attr\">v-bind:todo</span>=<span class=\"string\">&quot;item&quot;</span> <span class=\"attr\">v-on:increment</span>=<span class=\"string\">&quot;incrementTotal&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">tbody</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br></pre></td></tr></table></figure>","text":"接收后端传过来的值: 1234567891011121314// 类型切换var opTypes = new Vue({ el: '#select_type_a...","permalink":"/post/Thymeleaf + Vue 踩坑日记","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"Thymeleaf","slug":"Thymeleaf","count":4,"path":"api/categories/Thymeleaf.json"}],"tags":[{"name":"Thymeleaf","slug":"Thymeleaf","count":5,"path":"api/tags/Thymeleaf.json"},{"name":"Vue","slug":"Vue","count":2,"path":"api/tags/Vue.json"}],"toc":"","author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"iptables 常用操作","uid":"f5262033f512fa97b6db8c912ead2732","slug":"iptables 常用操作","date":"2019-07-26T05:29:10.000Z","updated":"2025-04-30T08:11:18.900Z","comments":true,"path":"api/articles/iptables 常用操作.json","keywords":null,"cover":null,"text":"添加端口123iptables -A INPUT -p tcp --dport 9115 -j ACCEPTiptables -A OUTPUT -p tcp ...","permalink":"/post/iptables 常用操作","photos":[],"count_time":{"symbolsCount":437,"symbolsTime":"1 mins."},"categories":[{"name":"iptables","slug":"iptables","count":1,"path":"api/categories/iptables.json"}],"tags":[{"name":"常用命令","slug":"常用命令","count":10,"path":"api/tags/常用命令.json"},{"name":"iptables","slug":"iptables","count":1,"path":"api/tags/iptables.json"}],"author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Vue 初始化时隐藏{{xxx}} 框","uid":"64bee59488fa8f8fe8a78dfe76c62f5e","slug":"Vue 初始化时隐藏{{xxx}} 框","date":"2019-07-23T05:49:20.000Z","updated":"2025-04-30T08:11:18.865Z","comments":true,"path":"api/articles/Vue 初始化时隐藏{{xxx}} 框.json","keywords":null,"cover":null,"text":"添加样式: 123[v-cloak] { display: none!important;} 在标签上加上 v-cloak 1<div class=\"topic...","permalink":"/post/Vue 初始化时隐藏{{xxx}} 框","photos":[],"count_time":{"symbolsCount":165,"symbolsTime":"1 mins."},"categories":[{"name":"Vue","slug":"Vue","count":1,"path":"api/categories/Vue.json"}],"tags":[{"name":"经验","slug":"经验","count":7,"path":"api/tags/经验.json"},{"name":"Vue","slug":"Vue","count":2,"path":"api/tags/Vue.json"}],"author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}