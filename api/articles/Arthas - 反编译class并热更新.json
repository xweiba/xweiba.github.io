{"title":"Arthas - 反编译class并热更新","uid":"3e8de84b59beb071f84ad0a51ed69a69","slug":"Arthas - 反编译class并热更新","date":"2021-06-30T04:16:42.000Z","updated":"2025-04-30T08:11:18.831Z","comments":true,"path":"api/articles/Arthas - 反编译class并热更新.json","keywords":null,"cover":null,"content":"<h1 id=\"1-反编译\"><a href=\"#1-反编译\" class=\"headerlink\" title=\"1.反编译\"></a>1.反编译</h1><p>jad –source-only com.enableets.edu.paper.framework.service.TransformPaperService &gt; &#x2F;root&#x2F;TransformPaperService.java<br>注意 重定向的写入会有多余信息, 需手动删除</p>\n<h1 id=\"2-查找classLoaderHash\"><a href=\"#2-查找classLoaderHash\" class=\"headerlink\" title=\"2.查找classLoaderHash\"></a>2.查找classLoaderHash</h1><p>sc -d com.enableets.edu.paper.framework.service.TransformPaperService | grep classLoaderHash<br>会获取内存编译所需的 classLoaderHash</p>\n<h1 id=\"3-使用内存编译\"><a href=\"#3-使用内存编译\" class=\"headerlink\" title=\"3.使用内存编译\"></a>3.使用内存编译</h1><p>mc -c 5b2133b1 &#x2F;root&#x2F;TransformPaperService.java -d &#x2F;root&#x2F;TransformPaperService.class</p>\n<h1 id=\"4-热部署-如果改动不大-可直接修改本地源码-将编译后的class热部署即可\"><a href=\"#4-热部署-如果改动不大-可直接修改本地源码-将编译后的class热部署即可\" class=\"headerlink\" title=\"4.热部署(如果改动不大,可直接修改本地源码, 将编译后的class热部署即可)\"></a>4.热部署(如果改动不大,可直接修改本地源码, 将编译后的class热部署即可)</h1><p>redefine &#x2F;root&#x2F;TransformPaperService.class</p>\n<h1 id=\"可能会遇到的报错\"><a href=\"#可能会遇到的报错\" class=\"headerlink\" title=\"可能会遇到的报错\"></a>可能会遇到的报错</h1><ul>\n<li>反编译报错 <code>Memory compiler error, exception message: Compilation Error</code><br>经搜索是 <code>Arthas</code> 反编译器有bug, 可将class拖出来使用idea编译, 直接使用 <code>redefine</code> 热部署即可</li>\n<li>反编译报错属性值不对, 因为反编译出的class有问题, 将源码拖出来自己慢慢改.</li>\n</ul>\n","text":"1.反编译jad –source-only com.enableets.edu.paper.framework.service.TransformPaperSe...","permalink":"/post/Arthas - 反编译class并热更新","photos":[],"count_time":{"symbolsCount":679,"symbolsTime":"1 mins."},"categories":[{"name":"Arthas","slug":"Arthas","count":2,"path":"api/categories/Arthas.json"}],"tags":[{"name":"Arthas","slug":"Arthas","count":2,"path":"api/tags/Arthas.json"},{"name":"debug","slug":"debug","count":1,"path":"api/tags/debug.json"},{"name":"调试","slug":"调试","count":1,"path":"api/tags/调试.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#1-%E5%8F%8D%E7%BC%96%E8%AF%91\"><span class=\"toc-text\">1.反编译</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#2-%E6%9F%A5%E6%89%BEclassLoaderHash\"><span class=\"toc-text\">2.查找classLoaderHash</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#3-%E4%BD%BF%E7%94%A8%E5%86%85%E5%AD%98%E7%BC%96%E8%AF%91\"><span class=\"toc-text\">3.使用内存编译</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#4-%E7%83%AD%E9%83%A8%E7%BD%B2-%E5%A6%82%E6%9E%9C%E6%94%B9%E5%8A%A8%E4%B8%8D%E5%A4%A7-%E5%8F%AF%E7%9B%B4%E6%8E%A5%E4%BF%AE%E6%94%B9%E6%9C%AC%E5%9C%B0%E6%BA%90%E7%A0%81-%E5%B0%86%E7%BC%96%E8%AF%91%E5%90%8E%E7%9A%84class%E7%83%AD%E9%83%A8%E7%BD%B2%E5%8D%B3%E5%8F%AF\"><span class=\"toc-text\">4.热部署(如果改动不大,可直接修改本地源码, 将编译后的class热部署即可)</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8F%AF%E8%83%BD%E4%BC%9A%E9%81%87%E5%88%B0%E7%9A%84%E6%8A%A5%E9%94%99\"><span class=\"toc-text\">可能会遇到的报错</span></a></li></ol>","author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"hexo自动构建部署从Travis CI迁移至GitHub Actions","uid":"ad9e949c878a65f54af3e2722178fa5b","slug":"将hexo自动构建部署从Travis-CI迁移至GitHub-Actions","date":"2022-02-28T01:31:34.000Z","updated":"2025-04-30T08:11:18.900Z","comments":true,"path":"api/articles/将hexo自动构建部署从Travis-CI迁移至GitHub-Actions.json","keywords":null,"cover":[],"text":" 很久没更新博客了，今天想更新一下发现构建失败，看了下是因为 Travis CI 开始商业化了，我的免费额度早就用完了，正好现在都在玩 GitHub Actio...","permalink":"/post/将hexo自动构建部署从Travis-CI迁移至GitHub-Actions","photos":[],"count_time":{"symbolsCount":"2.8k","symbolsTime":"3 mins."},"categories":[{"name":"Hexo","slug":"Hexo","count":4,"path":"api/categories/Hexo.json"},{"name":"GitHub","slug":"Hexo/GitHub","count":1,"path":"api/categories/Hexo/GitHub.json"}],"tags":[{"name":"Hexo","slug":"Hexo","count":5,"path":"api/tags/Hexo.json"},{"name":"Travis CI","slug":"Travis-CI","count":2,"path":"api/tags/Travis-CI.json"},{"name":"GitHub Actions","slug":"GitHub-Actions","count":1,"path":"api/tags/GitHub-Actions.json"}],"author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Web-通过DragDropTouch适配移动端drop事件","uid":"7439aff8f53103a2ebd62b031bb6dedb","slug":"Web-通过DragDropTouch适配移动端drop事件","date":"2021-06-10T05:43:38.000Z","updated":"2025-04-30T08:11:18.865Z","comments":true,"path":"api/articles/Web-通过DragDropTouch适配移动端drop事件.json","keywords":null,"cover":null,"text":"DragDropTouch-Github 最近碰到一个bug,移动dom的drag事件在手机端没有反应, 查了一下drag是鼠标的相关api, 而手机端只有to...","permalink":"/post/Web-通过DragDropTouch适配移动端drop事件","photos":[],"count_time":{"symbolsCount":"12k","symbolsTime":"11 mins."},"categories":[{"name":"Web","slug":"Web","count":2,"path":"api/categories/Web.json"}],"tags":[{"name":"Web","slug":"Web","count":2,"path":"api/tags/Web.json"},{"name":"移动端","slug":"移动端","count":1,"path":"api/tags/移动端.json"},{"name":"适配","slug":"适配","count":1,"path":"api/tags/适配.json"}],"author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}