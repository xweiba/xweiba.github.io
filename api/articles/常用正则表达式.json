{"title":"常用正则表达式","uid":"85b8693a512d03bf427ab4982831b7cd","slug":"常用正则表达式","date":"2022-12-23T06:37:54.000Z","updated":"2025-04-30T08:11:18.901Z","comments":true,"path":"api/articles/常用正则表达式.json","keywords":null,"cover":null,"content":"<p>提取字符串中的图片地址</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">url</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;&lt;div&gt;&lt;img width=\\&quot;864px\\&quot; height=\\&quot;148px\\&quot; src=\\&quot;http://r30.enable-ets.com/storage/attachment/2019/4/23/cca1a4629f2a42be9e929b3f80de1c51.JPG\\&quot; alt=\\&quot;\\&quot; title=\\&quot;image\\&quot; style=\\&quot;width: 37.57em; height: 6.43em; vertical-align: middle;\\&quot;&gt;&lt;/img&gt;&lt;br&gt;&lt;img width=\\&quot;863px\\&quot; height=\\&quot;755px\\&quot; src=\\&quot;http://r30.enable-ets.com/storage/attachment/2019/4/23/d660a24657c6499fa31b3d3bbe9140cb.jpg\\&quot; alt=\\&quot;\\&quot; title=\\&quot;image\\&quot; style=\\&quot;width: 37.52em; height: 32.83em; vertical-align: middle;\\&quot;&gt;&lt;/img&gt;&lt;br&gt;&lt;img width=\\&quot;866px\\&quot; height=\\&quot;133px\\&quot; src=\\&quot;http://r30.enable-ets.com/storage/attachment/2019/4/23/3cce9cfbedba4976921adaceafd4d98d.jpg\\&quot; alt=\\&quot;\\&quot; title=\\&quot;image\\&quot; style=\\&quot;width: 37.65em; height: 5.78em; vertical-align: middle;\\&quot;&gt;&lt;/img&gt;&lt;br&gt;　&lt;/div&gt;&quot;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 提取非json格式的http地址, json格式会带&quot;</span></span><br><span class=\"line\"><span class=\"comment\">// Pattern pattern = Pattern.compile(&quot;http://[\\\\S\\\\.]+[:\\\\d]?[/\\\\S]&quot;);</span></span><br><span class=\"line\"><span class=\"type\">Pattern</span> <span class=\"variable\">pattern</span> <span class=\"operator\">=</span> Pattern.compile(<span class=\"string\">&quot;http://[\\\\S\\\\.]+[:\\\\d]?[.jpg|.jpeg|.png|.gif|.bmp]&quot;</span>, Pattern.CASE_INSENSITIVE);</span><br><span class=\"line\"><span class=\"type\">Matcher</span> <span class=\"variable\">matcher</span> <span class=\"operator\">=</span> pattern.matcher(url);</span><br><span class=\"line\"><span class=\"type\">StringBuffer</span> <span class=\"variable\">buffer</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">StringBuffer</span>();</span><br><span class=\"line\"><span class=\"keyword\">while</span>(matcher.find())&#123;</span><br><span class=\"line\">    buffer.append(matcher.group());</span><br><span class=\"line\">    buffer.append(<span class=\"string\">&quot;\\r\\n&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">System.out.println(buffer.toString());</span><br></pre></td></tr></table></figure>\n\n<p>js 取出标签中的所有值</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getAnalysisFileList : <span class=\"keyword\">function</span>(<span class=\"params\">analysisString</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 转换answer信息, 取出所有标签值</span></span><br><span class=\"line\">        <span class=\"comment\">// analysisString = &quot;&lt;p&gt;&lt;img src=\\&quot;http://192.168.116.190/storage/attachment/2020/1/2/f583bb1a6e22429fa558aa00b4e9abf2.png\\&quot; title=\\&quot;1.png\\&quot; alt=\\&quot;1.png\\&quot;&gt;&lt;img src=\\&quot;http://192.168.116.190/storage/attachment/2020/1/2/a3ae44211b2946e08e023a2f2ed34960.jpg\\&quot; title=\\&quot;1-543872364186734592-B.jpg\\&quot; alt=\\&quot;1-543872364186734592-B.jpg\\&quot;&gt;&lt;/p&gt;&quot;;</span></span><br><span class=\"line\">        <span class=\"comment\">// 取出连接和文件名</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> reg= <span class=\"regexp\">/=\\&quot;(.*?)\\&quot;/g</span>;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> i = <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> analysisFileList = [];</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (r=reg.<span class=\"title function_\">exec</span>(analysisString))&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 每个图片有一个地址, 一个title, 一个alt, 一个size, 四个切换一组</span></span><br><span class=\"line\">            <span class=\"keyword\">let</span> index = <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>((i-<span class=\"number\">1</span>)/<span class=\"number\">4</span>);</span><br><span class=\"line\">            <span class=\"keyword\">let</span> analysisFileTemp = analysisFileList[index];</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (<span class=\"title class_\">CommUtils</span>.<span class=\"title function_\">isEmpty</span>(analysisFileTemp)) &#123;</span><br><span class=\"line\">                analysisFileTemp = &#123;</span><br><span class=\"line\">                    <span class=\"attr\">url</span>: r[<span class=\"number\">1</span>],</span><br><span class=\"line\">                    <span class=\"attr\">fileName</span>: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">                    <span class=\"attr\">size</span>: <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>()) * <span class=\"number\">10000</span>)</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                analysisFileList[index] = analysisFileTemp;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (i%<span class=\"number\">4</span> == <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">                analysisFileTemp.<span class=\"property\">fileName</span> = r[<span class=\"number\">1</span>];</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (i%<span class=\"number\">4</span> == <span class=\"number\">0</span> &amp;&amp; i !== <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                analysisFileTemp.<span class=\"property\">size</span> =  r[<span class=\"number\">1</span>];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            i++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> analysisFileList;</span><br><span class=\"line\">    &#125;,</span><br></pre></td></tr></table></figure>","text":"提取字符串中的图片地址 123456789101112String url = \"<div><img width=\\\"864px\\\" height=\\\"148p...","permalink":"/post/常用正则表达式","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[{"name":"正则表达式","slug":"正则表达式","count":1,"path":"api/categories/正则表达式.json"}],"tags":[{"name":"常用命令","slug":"常用命令","count":10,"path":"api/tags/常用命令.json"},{"name":"正则表达式","slug":"正则表达式","count":1,"path":"api/tags/正则表达式.json"}],"toc":"","author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"PVE LXC 常用配置","uid":"a06638b83fc487413a350d2959840084","slug":"PVE LXC 常用配置","date":"2022-12-23T06:39:40.000Z","updated":"2025-04-30T08:11:18.862Z","comments":true,"path":"api/articles/PVE LXC 常用配置.json","keywords":null,"cover":null,"text":"LXC配置1.Ubuntu开启硬件直通 123456789101112131415161718192021222324arch: amd64cores: 4fe...","permalink":"/post/PVE LXC 常用配置","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[{"name":"PVE","slug":"PVE","count":1,"path":"api/categories/PVE.json"}],"tags":[{"name":"PVE","slug":"PVE","count":1,"path":"api/tags/PVE.json"},{"name":"LXC","slug":"LXC","count":1,"path":"api/tags/LXC.json"}],"author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"ffmpeg常用命令","uid":"5a54787070bd542db188133e8da5c4f2","slug":"ffmpeg常用命令","date":"2022-12-23T06:35:29.000Z","updated":"2025-04-30T08:11:18.900Z","comments":true,"path":"api/articles/ffmpeg常用命令.json","keywords":null,"cover":null,"text":"合并视频和声音 ffmpeg -hwaccel qsv -i test.mp4 -i test.mp3 -c:v h264_qsv -c:v copy -c:a...","permalink":"/post/ffmpeg常用命令","photos":[],"count_time":{"symbolsCount":442,"symbolsTime":"1 mins."},"categories":[{"name":"ffmpeg","slug":"ffmpeg","count":1,"path":"api/categories/ffmpeg.json"}],"tags":[{"name":"常用命令","slug":"常用命令","count":10,"path":"api/tags/常用命令.json"},{"name":"ffmpeg","slug":"ffmpeg","count":1,"path":"api/tags/ffmpeg.json"}],"author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}