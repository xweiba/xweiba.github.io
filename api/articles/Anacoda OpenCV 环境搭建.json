{"title":"Anacoda OpenCV 环境搭建","uid":"75cc1d2989c37c8206e5e60b22917cb1","slug":"Anacoda OpenCV 环境搭建","date":"2021-01-13T06:02:47.000Z","updated":"2025-04-30T08:11:18.830Z","comments":true,"path":"api/articles/Anacoda OpenCV 环境搭建.json","keywords":null,"cover":null,"content":"<p>[TOC]</p>\n<h1 id=\"Anacoda-环境变量\"><a href=\"#Anacoda-环境变量\" class=\"headerlink\" title=\"Anacoda 环境变量\"></a>Anacoda 环境变量</h1><p>Anacoda 安装时会有加入环境变量的选项, 没有勾选的话手动加一下. 与 <code>JDK</code> 环境变量差不多:<a href=\"https://blog.csdn.net/u013211009/article/details/78437098\">环境变量配置</a></p>\n<h1 id=\"Anacoda-配置优化\"><a href=\"#Anacoda-配置优化\" class=\"headerlink\" title=\"Anacoda 配置优化\"></a>Anacoda 配置优化</h1><p><code>Anacoda</code> 安装完毕后修改 <code>pip</code> 源, 默认是国外服务器, 下载安装较慢.</p>\n<p>命令行修改源和配置文件修改源取一个即可.</p>\n<h2 id=\"命令行修改pip源\"><a href=\"#命令行修改pip源\" class=\"headerlink\" title=\"命令行修改pip源\"></a>命令行修改<code>pip</code>源</h2><p>上海交大<code>pip</code>源:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda config --add channels https://mirrors.sjtug.sjtu.edu.cn/anaconda/pkgs/free/ </span><br><span class=\"line\">conda config --add channels https://mirrors.sjtug.sjtu.edu.cn/anaconda/cloud/conda-forge/</span><br><span class=\"line\">conda config --<span class=\"built_in\">set</span> show_channel_urls <span class=\"built_in\">yes</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"配置修改pip源\"><a href=\"#配置修改pip源\" class=\"headerlink\" title=\"配置修改pip源\"></a>配置修改<code>pip</code>源</h2><h3 id=\"Windows\"><a href=\"#Windows\" class=\"headerlink\" title=\"Windows\"></a>Windows</h3><p>在 <code>c:\\user\\xxxName\\pip\\pip.ini</code> 中加入</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[global]</span><br><span class=\"line\"># 清华源</span><br><span class=\"line\">index-url=https://pypi.tuna.tsinghua.edu.cn/simple </span><br><span class=\"line\">[install]  </span><br><span class=\"line\">trusted-host=pypi.tuna.tsinghua.edu.cn</span><br><span class=\"line\">disable-pip-version-check = true  </span><br><span class=\"line\">timeout = 6000  </span><br></pre></td></tr></table></figure>\n<p>需要 <code>创建pip文件夹 与 pip.ini 文件</code>。</p>\n<h3 id=\"Linux\"><a href=\"#Linux\" class=\"headerlink\" title=\"Linux\"></a>Linux</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd $HOME  </span><br><span class=\"line\">mkdir .pip  </span><br><span class=\"line\">cd .pip</span><br><span class=\"line\">sudo vim pip.conf  </span><br><span class=\"line\"></span><br><span class=\"line\">在里面添加  </span><br><span class=\"line\">[global]  </span><br><span class=\"line\">index-url=https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class=\"line\">[install]  </span><br><span class=\"line\">trusted-host=pypi.tuna.tsinghua.edu.cn </span><br><span class=\"line\">disable-pip-version-check = true  </span><br><span class=\"line\">timeout = 6000 </span><br></pre></td></tr></table></figure>\n\n<h1 id=\"Anacoda-常用命令\"><a href=\"#Anacoda-常用命令\" class=\"headerlink\" title=\"Anacoda 常用命令\"></a>Anacoda 常用命令</h1><ul>\n<li>activate xxx 激活环境</li>\n<li>conda info –envs 查看所有环境</li>\n<li>conda create -n tensorflow pip 创建一个 tensorflow 环境</li>\n<li>conda remove -n tensorflow –all  删除环境</li>\n<li>conda env create -f  d:\\python36_20190106.yml 从配置文件导入环境</li>\n<li>conda env export –file python36_20190106.yml 导出环境 到yml文件</li>\n<li>pip install matplotlib 安装模块</li>\n<li>conda create -n py27 python&#x3D;2.7 创建一个py2.7</li>\n<li>conda clean –packages –tarballs | conda clean -a 清除缓存, 安装出错时可使用</li>\n</ul>\n<h1 id=\"JupyterNotebook\"><a href=\"#JupyterNotebook\" class=\"headerlink\" title=\"JupyterNotebook\"></a>JupyterNotebook</h1><p><code>Anacoda</code> 默认会安装 <code>JupyterNotebook</code>, 这是一个类<code>wbe</code>版的 <code>python</code> 执行工具. <code>python</code> 执行实时可见.</p>\n<h2 id=\"JupyterNotebook-配置修改\"><a href=\"#JupyterNotebook-配置修改\" class=\"headerlink\" title=\"JupyterNotebook 配置修改\"></a>JupyterNotebook 配置修改</h2><p>修改 JupyterNotebook 根目录: <a href=\"https://www.cnblogs.com/tielemao/p/9787966.html\">windows下设置JupyterNotebook默认目录</a></p>\n<p>设置完毕后可将 <code>JupyterNotebook笔记.7z</code> 压缩包解压到该目录, 配置好相关依赖即可直接执行里面的代码了.</p>\n<h2 id=\"将Anacoda创建的环境导入到JupyterNotebook中\"><a href=\"#将Anacoda创建的环境导入到JupyterNotebook中\" class=\"headerlink\" title=\"将Anacoda创建的环境导入到JupyterNotebook中\"></a>将Anacoda创建的环境导入到JupyterNotebook中</h2><p><code>Anacoda</code> 创建的环境是不会自动导入到 <code>JupyterNotebook</code> 中的, 需要手动执行:</p>\n<ol>\n<li>创建<code>python 3.6</code>环境: <code>conda create -n py36 python=3.6</code></li>\n<li>激活至 <code>py36</code> 环境: <code>activate py36</code></li>\n<li>添加至 <code>JupyterNotebook</code> 中:<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install ipykernel  <span class=\"comment\"># 可能会报错, No module named &#x27;setuptools._deprecation_warning`, 重新安装一下pip install -U setuptools 再执行.</span></span><br><span class=\"line\">python -m ipykernel install --name python3<span class=\"number\">.6</span> <span class=\"comment\"># 安装kernel, 再次打开notebook, 新建即可看到python3.6</span></span><br></pre></td></tr></table></figure>\n安装完毕后, 在该<code>Anacoda</code>环境下安装的依赖在<code>JupyterNotebook</code>的<code>python3.6</code>内核中都可使用.</li>\n</ol>\n<h1 id=\"OpenCV-安装\"><a href=\"#OpenCV-安装\" class=\"headerlink\" title=\"OpenCV 安装\"></a>OpenCV 安装</h1><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>3.4.2 以后因部分算法被申请专利, 在开源版本中已移除, 推荐使用 3.4.1.15版本, 所有算法均可使用.</p></blockquote>\n<h2 id=\"OpenCV-相关whl\"><a href=\"#OpenCV-相关whl\" class=\"headerlink\" title=\"OpenCV 相关whl\"></a>OpenCV 相关whl</h2><p>whl文件已在压缩包 <code>JupyterNotebook笔记.7z\\OpenCV\\环境配置库\\</code> 目录下</p>\n<p>3.4.1.15 依赖在线下载地址:</p>\n<ul>\n<li><a href=\"https://pypi.tuna.tsinghua.edu.cn/packages/2f/70/a688a6fc8d367c9bc78e27b8dc419daa8320f78e890af90b666aa7a91609/opencv_contrib_python-3.4.1.15-cp36-cp36m-win_amd64.whl#sha256=37371c2537478452de2b860a2e4903804ac70ae2660194b3d360dd433f874636\">opencv_contrib_python-3.4.1.15-cp36-cp36m-win_amd64</a></li>\n<li><a href=\"https://pypi.tuna.tsinghua.edu.cn/packages/2b/31/cc5cf31258dc2cbb50dd1b046164add33804eab7af036d86aa68d45c7f6c/opencv_python-3.4.1.15-cp36-cp36m-win_amd64.whl#sha256=2cea809afe32cdccf97d66b131afc0fed80076244fb77b68ad9bf016d9cdc261\">opencv_python-3.4.1.15-cp36-cp36m-win_amd64.whl</a></li>\n</ul>\n<h2 id=\"OpenCV-安装-1\"><a href=\"#OpenCV-安装-1\" class=\"headerlink\" title=\"OpenCV 安装\"></a>OpenCV 安装</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda create -n py36 python=3.6 <span class=\"comment\"># 已安装的就不需要执行这个了</span></span><br><span class=\"line\">activate py36</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"安装OpenCV-whl\"><a href=\"#安装OpenCV-whl\" class=\"headerlink\" title=\"安装OpenCV whl\"></a>安装OpenCV whl</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install opencv_python-3.4.1.15-cp36-cp36m-win_amd64.whl</span><br><span class=\"line\">pip install opencv_contrib_python-3.4.1.15-cp36-cp36m-win_amd64</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"安装OpenCV使用过程中的相关依赖\"><a href=\"#安装OpenCV使用过程中的相关依赖\" class=\"headerlink\" title=\"安装OpenCV使用过程中的相关依赖\"></a>安装OpenCV使用过程中的相关依赖</h3><p>文件在压缩包 <code>JupyterNotebook笔记.7z\\OpenCV\\环境配置库\\</code> 目录下</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install matplotlib-3.1.2-cp36-cp36m-win_amd64.whl</span><br><span class=\"line\">pip install numpy-1.17.4-cp36-cp36m-win_amd64.whl</span><br></pre></td></tr></table></figure>","text":"[TOC] Anacoda 环境变量Anacoda 安装时会有加入环境变量的选项, 没有勾选的话手动加一下. 与 JDK 环境变量差不多:环境变量配置 Anac...","permalink":"/post/Anacoda OpenCV 环境搭建","photos":[],"count_time":{"symbolsCount":"2.6k","symbolsTime":"2 mins."},"categories":[{"name":"Python","slug":"Python","count":7,"path":"api/categories/Python.json"}],"tags":[{"name":"Anacoda","slug":"Anacoda","count":4,"path":"api/tags/Anacoda.json"},{"name":"OpenCV","slug":"OpenCV","count":4,"path":"api/tags/OpenCV.json"},{"name":"Python","slug":"Python","count":7,"path":"api/tags/Python.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Anacoda-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">Anacoda 环境变量</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Anacoda-%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96\"><span class=\"toc-text\">Anacoda 配置优化</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%BF%AE%E6%94%B9pip%E6%BA%90\"><span class=\"toc-text\">命令行修改pip源</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE%E4%BF%AE%E6%94%B9pip%E6%BA%90\"><span class=\"toc-text\">配置修改pip源</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Windows\"><span class=\"toc-text\">Windows</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Linux\"><span class=\"toc-text\">Linux</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Anacoda-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">Anacoda 常用命令</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#JupyterNotebook\"><span class=\"toc-text\">JupyterNotebook</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#JupyterNotebook-%E9%85%8D%E7%BD%AE%E4%BF%AE%E6%94%B9\"><span class=\"toc-text\">JupyterNotebook 配置修改</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%B0%86Anacoda%E5%88%9B%E5%BB%BA%E7%9A%84%E7%8E%AF%E5%A2%83%E5%AF%BC%E5%85%A5%E5%88%B0JupyterNotebook%E4%B8%AD\"><span class=\"toc-text\">将Anacoda创建的环境导入到JupyterNotebook中</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#OpenCV-%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">OpenCV 安装</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#OpenCV-%E7%9B%B8%E5%85%B3whl\"><span class=\"toc-text\">OpenCV 相关whl</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#OpenCV-%E5%AE%89%E8%A3%85-1\"><span class=\"toc-text\">OpenCV 安装</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85OpenCV-whl\"><span class=\"toc-text\">安装OpenCV whl</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AE%89%E8%A3%85OpenCV%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E7%9B%B8%E5%85%B3%E4%BE%9D%E8%B5%96\"><span class=\"toc-text\">安装OpenCV使用过程中的相关依赖</span></a></li></ol></li></ol></li></ol>","author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"Kettel 笔记","uid":"283905ab630dd738eb324336ee45880c","slug":"Kettel 笔记","date":"2021-01-26T04:57:33.000Z","updated":"2025-04-30T08:11:18.861Z","comments":true,"path":"api/articles/Kettel 笔记.json","keywords":null,"cover":null,"text":"命令行执行 kettel 文件Kitchen.bat /file D:\\resouces\\code\\java\\kettle\\真题迁移\\真题转换增量处理.kjb ...","permalink":"/post/Kettel 笔记","photos":[],"count_time":{"symbolsCount":"15k","symbolsTime":"13 mins."},"categories":[{"name":"Kettel","slug":"Kettel","count":1,"path":"api/categories/Kettel.json"}],"tags":[{"name":"Kettel","slug":"Kettel","count":1,"path":"api/tags/Kettel.json"}],"author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"CentOS 6 GCC 编译升级至5.1.0","uid":"41c7b401621718ddd84559c090fb4c3e","slug":"CentOS 6 GCC 编译升级至5.1.0","date":"2021-01-07T05:14:50.000Z","updated":"2025-04-30T08:11:18.832Z","comments":true,"path":"api/articles/CentOS 6 GCC 编译升级至5.1.0.json","keywords":null,"cover":null,"text":"由于 CentOS 6 停止更新支持了, 官方都将yum软件源关闭了. 原来的安装方式已失效. 只能手动编译了. 下载GCC 5.1.0 源码包: wget h...","permalink":"/post/CentOS 6 GCC 编译升级至5.1.0","photos":[],"count_time":{"symbolsCount":626,"symbolsTime":"1 mins."},"categories":[{"name":"Linux","slug":"Linux","count":7,"path":"api/categories/Linux.json"}],"tags":[{"name":"CentOS6","slug":"CentOS6","count":2,"path":"api/tags/CentOS6.json"},{"name":"GCC","slug":"GCC","count":2,"path":"api/tags/GCC.json"},{"name":"升级","slug":"升级","count":4,"path":"api/tags/升级.json"}],"author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}