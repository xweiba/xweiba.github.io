{"title":"SpringBoot 代码中使用国际化配置文件","uid":"ffe1e7d4556a4c5d56e072285362f94d","slug":"SpringBoot 代码中使用国际化配置文件","date":"2018-06-21T04:30:40.000Z","updated":"2025-04-30T08:11:18.865Z","comments":true,"path":"api/articles/SpringBoot 代码中使用国际化配置文件.json","keywords":null,"cover":null,"content":"<h1 id=\"国际化文件\"><a href=\"#国际化文件\" class=\"headerlink\" title=\"国际化文件\"></a>国际化文件</h1><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">resources</span><br><span class=\"line\">    │  application.yml</span><br><span class=\"line\">    │  logback.xml</span><br><span class=\"line\">    │  mybatis-config.xml</span><br><span class=\"line\">    │</span><br><span class=\"line\">    └─i18n</span><br><span class=\"line\">            lang.properties</span><br><span class=\"line\">            lang_en_US.properties</span><br><span class=\"line\">            lang_zh_CN.properties</span><br><span class=\"line\">            lang_zh_TW.properties</span><br></pre></td></tr></table></figure>\n<h1 id=\"yml-配置文件\"><a href=\"#yml-配置文件\" class=\"headerlink\" title=\"yml 配置文件\"></a>yml 配置文件</h1><figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">i18n:</span> </span><br><span class=\"line\">    <span class=\"attr\">locale:</span> <span class=\"string\">zh_CN</span></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">     <span class=\"attr\">messages:</span></span><br><span class=\"line\">          <span class=\"attr\">basename:</span> <span class=\"string\">i18n/lang</span></span><br><span class=\"line\">          <span class=\"attr\">encoding:</span> <span class=\"string\">UTF-8</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"启动类注入国际化配置\"><a href=\"#启动类注入国际化配置\" class=\"headerlink\" title=\"启动类注入国际化配置\"></a>启动类注入国际化配置</h1><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Value(&quot;$&#123;i18n.locale&#125;&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">private</span> String locale;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Bean</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> LocaleResolver <span class=\"title function_\">localeResolver</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t<span class=\"type\">Locale</span> <span class=\"variable\">locale</span> <span class=\"operator\">=</span> I18nUtils.localeFromString(<span class=\"built_in\">this</span>.locale, (Locale)<span class=\"literal\">null</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">FixedLocaleResolver</span>(locale);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"使用工具类获取国际化配置\"><a href=\"#使用工具类获取国际化配置\" class=\"headerlink\" title=\"使用工具类获取国际化配置\"></a>使用工具类获取国际化配置</h1><p>这里应该使用 <code>Aware</code> 接口.</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">I18nToolUtils</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 国际化信息服务</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">final</span> <span class=\"keyword\">static</span> <span class=\"type\">MessageSource</span> <span class=\"variable\">messageSource</span> <span class=\"operator\">=</span> SpringBeanUtils.getBean(MessageSource.class);</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> String <span class=\"title function_\">getI18String</span><span class=\"params\">(String code)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (StringUtils.isBlank(code)) <span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> messageSource.getMessage(code, <span class=\"literal\">null</span>, LocaleContextHolder.getLocale());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","text":"国际化文件12345678910resources │ application.yml │ logback.xml │ mybatis-config.xml │...","permalink":"/post/SpringBoot 代码中使用国际化配置文件","photos":[],"count_time":{"symbolsCount":"1k","symbolsTime":"1 mins."},"categories":[{"name":"SpringBoot","slug":"SpringBoot","count":12,"path":"api/categories/SpringBoot.json"}],"tags":[{"name":"SpringBoot","slug":"SpringBoot","count":12,"path":"api/tags/SpringBoot.json"},{"name":"国际化","slug":"国际化","count":3,"path":"api/tags/国际化.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%9B%BD%E9%99%85%E5%8C%96%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">国际化文件</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#yml-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">yml 配置文件</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%90%AF%E5%8A%A8%E7%B1%BB%E6%B3%A8%E5%85%A5%E5%9B%BD%E9%99%85%E5%8C%96%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">启动类注入国际化配置</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E5%B7%A5%E5%85%B7%E7%B1%BB%E8%8E%B7%E5%8F%96%E5%9B%BD%E9%99%85%E5%8C%96%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">使用工具类获取国际化配置</span></a></li></ol>","author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"SpringBoot - Redis","uid":"83b0d42133474ff4a2edb50fe8dc767c","slug":"SpringBoot - Redis","date":"2018-06-22T04:32:13.000Z","updated":"2025-04-30T08:11:18.864Z","comments":true,"path":"api/articles/SpringBoot - Redis.json","keywords":null,"cover":null,"text":"今天完成的事情：Spring Boot Redis, 依赖的事情弄了很久, 纯洁的微笑的示例教程是使用1.0的Spring Boot, 我使用的是2.0.1, ...","permalink":"/post/SpringBoot - Redis","photos":[],"count_time":{"symbolsCount":"7.4k","symbolsTime":"7 mins."},"categories":[{"name":"SpringBoot","slug":"SpringBoot","count":12,"path":"api/categories/SpringBoot.json"}],"tags":[{"name":"Redis","slug":"Redis","count":5,"path":"api/tags/Redis.json"},{"name":"SpringBoot","slug":"SpringBoot","count":12,"path":"api/tags/SpringBoot.json"}],"author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Spring Boot-Hello World","uid":"682ca596a13a30a92b684fce37102be2","slug":"SpringBoot-Hello World","date":"2018-06-18T04:28:30.000Z","updated":"2025-04-30T08:11:18.865Z","comments":true,"path":"api/articles/SpringBoot-Hello World.json","keywords":null,"cover":null,"text":"本文学习自 纯洁的微笑 Spring Boot 教程 Spring Boot 示例程序: maven构建项目下载Spring Boot模板: 访问http://...","permalink":"/post/SpringBoot-Hello World","photos":[],"count_time":{"symbolsCount":"3.9k","symbolsTime":"4 mins."},"categories":[{"name":"SpringBoot","slug":"SpringBoot","count":12,"path":"api/categories/SpringBoot.json"}],"tags":[{"name":"SpringBoot","slug":"SpringBoot","count":12,"path":"api/tags/SpringBoot.json"},{"name":"hello world","slug":"hello-world","count":1,"path":"api/tags/hello-world.json"}],"author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}