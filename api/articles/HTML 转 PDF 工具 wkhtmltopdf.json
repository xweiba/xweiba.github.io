{"title":"HTML 转 PDF 工具 wkhtmltopdf","uid":"785defa2f7a5facf91a39c104f1b5364","slug":"HTML 转 PDF 工具 wkhtmltopdf","date":"2019-04-23T05:44:31.000Z","updated":"2025-04-30T08:11:18.840Z","comments":true,"path":"api/articles/HTML 转 PDF 工具 wkhtmltopdf.json","keywords":null,"cover":null,"content":"<h1 id=\"使用方法\"><a href=\"#使用方法\" class=\"headerlink\" title=\"使用方法\"></a>使用方法</h1><h2 id=\"HTML转换pdf\"><a href=\"#HTML转换pdf\" class=\"headerlink\" title=\"HTML转换pdf\"></a>HTML转换pdf</h2><p><code>wkhtmltopdf --window-status completed  --debug-javascript &quot;http://localhost:9137/manager/assessment/report/v2/class?testId=791078347730882560&amp;classId=hpjrblnxkdv2qx9u941qfm3vwplpmhpr&amp;printPdf=true&quot; -</code></p>\n<ul>\n<li><code>window-status completed</code>: 读取网页参数, 当页面 <code>window.status =  &quot;completed&quot;</code> 时, 才算页面渲染完成, 解决异步<code>js</code>页面无法正常渲染的问题.</li>\n<li><code>debug-javascript</code>: 开启<code>js debug</code></li>\n</ul>\n<h1 id=\"特定页面样式\"><a href=\"#特定页面样式\" class=\"headerlink\" title=\"特定页面样式\"></a>特定页面样式</h1><ul>\n<li>chart 图表必须设置高宽, 不然不显示.</li>\n<li>不希望被切分的<code>div</code> 如图表, 添加样式: <code>page-break-inside:avoid;</code></li>\n<li>将表格分页切分页后加头  <figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">table</span> <span class=\"selector-tag\">tr</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">word-break</span>: break-all;</span><br><span class=\"line\">    <span class=\"attribute\">page-break-before</span>: always;</span><br><span class=\"line\">    <span class=\"attribute\">page-break-after</span>: always;</span><br><span class=\"line\">    <span class=\"attribute\">page-break-inside</span>: avoid;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h1 id=\"错误解决方法\"><a href=\"#错误解决方法\" class=\"headerlink\" title=\"错误解决方法\"></a>错误解决方法</h1><h2 id=\"已知问题\"><a href=\"#已知问题\" class=\"headerlink\" title=\"已知问题\"></a>已知问题</h2><ul>\n<li><code>wkhtmltopdf</code> 不支持<code>ES6</code>语法</li>\n</ul>\n<h2 id=\"47-SyntaxError-Parse-error\"><a href=\"#47-SyntaxError-Parse-error\" class=\"headerlink\" title=\":47 SyntaxError: Parse error\"></a>:47 SyntaxError: Parse error</h2><p>定位到页面第 <code>47</code> 行位置, 可能有<code>wkhtmltopdf</code>无法解析的属性, 如 <code>let</code>. </p>\n<h2 id=\"wkhtmltopdf-转换字体导致样式异常\"><a href=\"#wkhtmltopdf-转换字体导致样式异常\" class=\"headerlink\" title=\"wkhtmltopdf 转换字体导致样式异常\"></a>wkhtmltopdf 转换字体导致样式异常</h2><p>保证环境语言字体正常</p>\n<p>安装字体, 设置语言:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install wqy-zenhei-fonts</span><br><span class=\"line\">localectl set-locale  LANG=zh_CN.utf8</span><br></pre></td></tr></table></figure>","text":"使用方法HTML转换pdfwkhtmltopdf --window-status completed --debug-javascript \"http://lo...","permalink":"/post/HTML 转 PDF 工具 wkhtmltopdf","photos":[],"count_time":{"symbolsCount":822,"symbolsTime":"1 mins."},"categories":[{"name":"wkhtmltopdf","slug":"wkhtmltopdf","count":1,"path":"api/categories/wkhtmltopdf.json"}],"tags":[{"name":"wkhtmltopdf","slug":"wkhtmltopdf","count":1,"path":"api/tags/wkhtmltopdf.json"},{"name":"WEB","slug":"WEB","count":1,"path":"api/tags/WEB.json"},{"name":"PDF","slug":"PDF","count":1,"path":"api/tags/PDF.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">使用方法</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#HTML%E8%BD%AC%E6%8D%A2pdf\"><span class=\"toc-text\">HTML转换pdf</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%89%B9%E5%AE%9A%E9%A1%B5%E9%9D%A2%E6%A0%B7%E5%BC%8F\"><span class=\"toc-text\">特定页面样式</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E9%94%99%E8%AF%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">错误解决方法</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%B7%B2%E7%9F%A5%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">已知问题</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#47-SyntaxError-Parse-error\"><span class=\"toc-text\">:47 SyntaxError: Parse error</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#wkhtmltopdf-%E8%BD%AC%E6%8D%A2%E5%AD%97%E4%BD%93%E5%AF%BC%E8%87%B4%E6%A0%B7%E5%BC%8F%E5%BC%82%E5%B8%B8\"><span class=\"toc-text\">wkhtmltopdf 转换字体导致样式异常</span></a></li></ol></li></ol>","author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"SpringCloud Zuul 连接超时","uid":"dcb51bfbced27e98f05ddd8da866c4f9","slug":"Spring Cloud Zuul 连接超时","date":"2019-07-12T04:41:55.000Z","updated":"2025-04-30T08:11:18.862Z","comments":true,"path":"api/articles/Spring Cloud Zuul 连接超时.json","keywords":null,"cover":null,"text":"错误异常: 1\"error\":\"Internal Server Error\",\"exception\":\"com.netflix.zuul.exception.Z...","permalink":"/post/Spring Cloud Zuul 连接超时","photos":[],"count_time":{"symbolsCount":485,"symbolsTime":"1 mins."},"categories":[{"name":"SpringCloud","slug":"SpringCloud","count":1,"path":"api/categories/SpringCloud.json"}],"tags":[{"name":"SpringCloud","slug":"SpringCloud","count":1,"path":"api/tags/SpringCloud.json"},{"name":"Zuul","slug":"Zuul","count":1,"path":"api/tags/Zuul.json"}],"author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Idea 初始化配置","uid":"f4d9d535b95b7c98512b783e9f6ac61a","slug":"Idea 初始化配置","date":"2019-03-22T04:21:56.000Z","updated":"2025-04-30T08:11:18.846Z","comments":true,"path":"api/articles/Idea 初始化配置.json","keywords":null,"cover":null,"text":"编码 Setting-Editor-File Encodings- UTF-8 自动生成注释生成类/接口注释 Setting-Editor-File and C...","permalink":"/post/Idea 初始化配置","photos":[],"count_time":{"symbolsCount":715,"symbolsTime":"1 mins."},"categories":[{"name":"Idea","slug":"Idea","count":4,"path":"api/categories/Idea.json"}],"tags":[{"name":"Idea","slug":"Idea","count":4,"path":"api/tags/Idea.json"},{"name":"设置","slug":"设置","count":2,"path":"api/tags/设置.json"}],"author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}