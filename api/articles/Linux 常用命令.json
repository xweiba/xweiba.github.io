{"title":"Linux 常用命令","uid":"b312b6d7635ef172fb071e9c891a0e3d","slug":"Linux 常用命令","date":"2021-02-25T05:09:32.000Z","updated":"2025-04-30T08:11:18.861Z","comments":true,"path":"api/articles/Linux 常用命令.json","keywords":null,"cover":null,"content":"<h1 id=\"内存\"><a href=\"#内存\" class=\"headerlink\" title=\"内存\"></a>内存</h1><p>查看内存</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">free -m</span><br></pre></td></tr></table></figure>\n<p>回收内存</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 将所有未写的系统缓冲区写到磁盘中，包含已修改的 i-node、已延迟的块 I/O 和读写映射文件</span><br><span class=\"line\">sync </span><br><span class=\"line\"># 清空缓存的内存</span><br><span class=\"line\">echo 3 &gt; /proc/sys/vm/drop_caches</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"权限\"><a href=\"#权限\" class=\"headerlink\" title=\"权限\"></a>权限</h1><p>添加用户</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">adduser xxx</span><br></pre></td></tr></table></figure>\n\n<p>给用户 <code>root</code> 权限</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/passwd</span><br><span class=\"line\">#  将用户id改为 0</span><br><span class=\"line\">tommy:x:0:33:tommy:/data/webroot:/bin/bash</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"磁盘\"><a href=\"#磁盘\" class=\"headerlink\" title=\"磁盘\"></a>磁盘</h1><p>查看磁盘使用率</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df -h</span><br></pre></td></tr></table></figure>\n\n<p>查找大文件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 大于100M的文件 + 表示大于 - 表示小于</span><br><span class=\"line\">find / -type f -size +100M</span><br><span class=\"line\"></span><br><span class=\"line\"># 查看当前目录大小</span><br><span class=\"line\">du -sh .</span><br><span class=\"line\"></span><br><span class=\"line\"># 查看所有目录大小</span><br><span class=\"line\">du -h --max-depth=1</span><br><span class=\"line\"></span><br><span class=\"line\"># 显示前10个占用空间最大的文件或目录</span><br><span class=\"line\">du -s * | sort -nr | head   </span><br><span class=\"line\"></span><br><span class=\"line\"># 查找占空间最大的文件与目录</span><br><span class=\"line\">du –max-depth=1 </span><br></pre></td></tr></table></figure>\n\n<p>ls 命令</p>\n<ul>\n<li>按易读方式来显示大小 <code>ls -lh</code></li>\n</ul>\n<h1 id=\"文件相关\"><a href=\"#文件相关\" class=\"headerlink\" title=\"文件相关\"></a>文件相关</h1><ol>\n<li>查找大于 <code>100M</code> 的文件<ul>\n<li>find . -type f -size +100M  -print0 | xargs -0 du -h | sort -nr</li>\n</ul>\n</li>\n<li>查找大于 <code>100M</code> 的文件并清空<ul>\n<li>find . -type f -size +100M | xargs -I {} sh -c ‘&gt; {}’</li>\n</ul>\n</li>\n<li>查找大于 <code>100M</code> 的文件并删除<ul>\n<li>find . -type f -size +100M | xargs rm -rf</li>\n</ul>\n</li>\n<li>快速查找文件<ul>\n<li>updatedb 更新文件索引数据库</li>\n<li>locate [fileName]</li>\n</ul>\n</li>\n<li>文件操作<ul>\n<li>复制时复制软连接 : <code>cp -d libpng15.so* /usr/local/opencv/4.1.0/libMark</code></li>\n</ul>\n</li>\n</ol>\n<h1 id=\"压缩-解压\"><a href=\"#压缩-解压\" class=\"headerlink\" title=\"压缩&#x2F;解压\"></a>压缩&#x2F;解压</h1><h2 id=\"tar\"><a href=\"#tar\" class=\"headerlink\" title=\"tar\"></a>tar</h2><ol>\n<li>压缩 <code>tar -zcvf</code> [打包后生成的文件名全路径] [要打包的目录]<ul>\n<li>-c : create 建立压缩档案的参数；</li>\n<li>-z ： 是否需要用gzip压缩；</li>\n<li>-v : 压缩的过程中显示档案；</li>\n<li>-f : 置顶文档名，在f后面立即接文件名，不能再加参数</li>\n</ul>\n</li>\n<li>解压 <code>tar -zxvf [/source/kernel.tgz] -C [/source/ linux-2.6.29]</code><ul>\n<li>-x : 解压缩压缩档案的参数；</li>\n<li>-C : 指定目录</li>\n</ul>\n</li>\n</ol>\n<h1 id=\"系统相关\"><a href=\"#系统相关\" class=\"headerlink\" title=\"系统相关\"></a>系统相关</h1><ol>\n<li>查看发行版本 : <code>cat /etc/redhat-release</code></li>\n<li>查看内核版本 : <code>uname -a</code></li>\n<li>查看 <code>glibc</code> 库最高支持版本 : <code>strings /lib64/libc.so.6 |grep GLIBC_</code> <blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>glibc是gnu发布的libc库，即c运行库，glibc是linux系统中最底层的api，几乎其它任何运行库都会依赖于glibc。glibc除了封装linux操作系统所提供的系统服务外，它本身也提供了许多其它一些必要功能服务的实现。<br>很多linux的基本命令，比如cp, rm, ll,ln等，都得依赖于它，如果操作错误或者升级失败会导致系统命令不能使用，严重的造成系统退出后无法重新进入，所以操作时候需要慎重。</p></blockquote>\n</li>\n<li><code>CPU</code> 信息<ul>\n<li>查看 <code>CPU</code> 型号 : <code>cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c</code></li>\n<li>查看物理 <code>CPU</code> 个数 : <code>cat /proc/cpuinfo| grep &quot;physical id&quot;| sort| uniq| wc -l</code></li>\n<li>查看每个物理 <code>CPU</code> 中 <code>core</code> 的个数(即核数) : <code>cat /proc/cpuinfo| grep &quot;cpu cores&quot;| uniq</code></li>\n<li>查看逻辑 <code>CPU</code> 的个数 : <code>cat /proc/cpuinfo| grep &quot;processor&quot;| wc -l</code></li>\n</ul>\n</li>\n<li>内存信息<ul>\n<li>查看内存信息 : <code>cat /proc/meminfo</code></li>\n</ul>\n</li>\n</ol>\n<h1 id=\"YUM-包管理器\"><a href=\"#YUM-包管理器\" class=\"headerlink\" title=\"YUM 包管理器\"></a>YUM 包管理器</h1><ol>\n<li>yum erase libselinux-2.0.94-5.3.el6_4.1.x86_64 卸载冲突包</li>\n</ol>\n<h1 id=\"文本处理\"><a href=\"#文本处理\" class=\"headerlink\" title=\"文本处理\"></a>文本处理</h1><ul>\n<li>过滤出<code>openCv</code> 的 <code>java</code>依赖<code>so</code>: <code>libopencv_java410.so</code> 文件的所有依赖 <code>so</code> 目录 <code>ldd libopencv_java410.so | awk -F &#39;=&gt;&#39; &#39;&#123;print $2&#125;&#39; | awk -F &#39; &#39; &#39;&#123;print $1&#125;&#39; | awk &#39;/./ &#123;print&#125;&#39; | grep -v &quot;(&quot; | sort -u</code></li>\n</ul>\n","text":"内存查看内存 1free -m 回收内存 1234# 将所有未写的系统缓冲区写到磁盘中，包含已修改的 i-node、已延迟的块 I/O 和读写映射文件sync ...","permalink":"/post/Linux 常用命令","photos":[],"count_time":{"symbolsCount":"2.1k","symbolsTime":"2 mins."},"categories":[{"name":"Linux","slug":"Linux","count":7,"path":"api/categories/Linux.json"}],"tags":[{"name":"常用命令","slug":"常用命令","count":10,"path":"api/tags/常用命令.json"},{"name":"Linux","slug":"Linux","count":8,"path":"api/tags/Linux.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%86%85%E5%AD%98\"><span class=\"toc-text\">内存</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%9D%83%E9%99%90\"><span class=\"toc-text\">权限</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%A3%81%E7%9B%98\"><span class=\"toc-text\">磁盘</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%96%87%E4%BB%B6%E7%9B%B8%E5%85%B3\"><span class=\"toc-text\">文件相关</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8E%8B%E7%BC%A9-%E8%A7%A3%E5%8E%8B\"><span class=\"toc-text\">压缩&#x2F;解压</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#tar\"><span class=\"toc-text\">tar</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3\"><span class=\"toc-text\">系统相关</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#YUM-%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8\"><span class=\"toc-text\">YUM 包管理器</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86\"><span class=\"toc-text\">文本处理</span></a></li></ol>","author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"JDK代理与CGLib代理","uid":"c898a2e2be8a819864ade34380c2b0d9","slug":"JDK代理与CGLib代理","date":"2021-04-02T01:16:25.000Z","updated":"2025-04-30T08:11:18.847Z","comments":true,"path":"api/articles/JDK代理与CGLib代理.json","keywords":null,"cover":null,"text":"JDK代理特点： 目标类必须为实现了某个接口的实例，因为他生成的 class 文件就是一个实现了实例接口并继承了java.lang.reflect.Proxy类...","permalink":"/post/JDK代理与CGLib代理","photos":[],"count_time":{"symbolsCount":"28k","symbolsTime":"25 mins."},"categories":[{"name":"Java","slug":"Java","count":5,"path":"api/categories/Java.json"}],"tags":[{"name":"CGLib","slug":"CGLib","count":1,"path":"api/tags/CGLib.json"},{"name":"JDK代理","slug":"JDK代理","count":1,"path":"api/tags/JDK代理.json"},{"name":"反射","slug":"反射","count":1,"path":"api/tags/反射.json"}],"author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Kettel 笔记","uid":"283905ab630dd738eb324336ee45880c","slug":"Kettel 笔记","date":"2021-01-26T04:57:33.000Z","updated":"2025-04-30T08:11:18.861Z","comments":true,"path":"api/articles/Kettel 笔记.json","keywords":null,"cover":null,"text":"命令行执行 kettel 文件Kitchen.bat /file D:\\resouces\\code\\java\\kettle\\真题迁移\\真题转换增量处理.kjb ...","permalink":"/post/Kettel 笔记","photos":[],"count_time":{"symbolsCount":"15k","symbolsTime":"13 mins."},"categories":[{"name":"Kettel","slug":"Kettel","count":1,"path":"api/categories/Kettel.json"}],"tags":[{"name":"Kettel","slug":"Kettel","count":1,"path":"api/tags/Kettel.json"}],"author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}