{"title":"Linux 安装配置 Elasticsearch-2.4.6","uid":"3bdfbcd280906945c52159d485008d9b","slug":"Linux-安装配置-ElasticSearch-2-4-6","date":"2020-09-29T08:01:01.000Z","updated":"2025-04-30T08:11:18.861Z","comments":true,"path":"api/articles/Linux-安装配置-ElasticSearch-2-4-6.json","keywords":null,"cover":null,"content":"<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>ES最新版已经到 <code>7.x</code> 了,  想用最新版啊, 多了很多特性.但是这个环境是做业务测试的, 原来用的就是 <code>2.4.6</code> , 防止出问题, 延续了.</p></blockquote>\n<h1 id=\"下载安装\"><a href=\"#下载安装\" class=\"headerlink\" title=\"下载安装\"></a>下载安装</h1><p>进入工作目录, 执行即可:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://download.elastic.co/elasticsearch/release/org/elasticsearch/distribution/tar/elasticsearch/2.4.6/elasticsearch-2.4.6.tar.gz</span><br><span class=\"line\">tar -zxvf elasticsearch-2.4.6.tar.gz</span><br><span class=\"line\"><span class=\"built_in\">cd</span> elasticsearch-2.4.6/ </span><br></pre></td></tr></table></figure>\n\n<h1 id=\"基础配置\"><a href=\"#基础配置\" class=\"headerlink\" title=\"基础配置\"></a>基础配置</h1><p>编辑 <code>vim config/elasticsearch.yml</code> 文件, 放开以下配置的注释并修改.</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">cluster.name:</span> <span class=\"string\">test-es</span></span><br><span class=\"line\"><span class=\"attr\">node.name:</span> <span class=\"string\">master</span></span><br><span class=\"line\"><span class=\"attr\">network.host:</span> <span class=\"number\">192.168</span><span class=\"number\">.134</span><span class=\"number\">.22</span> <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"attr\">http.port:</span> <span class=\"number\">8200</span></span><br><span class=\"line\"><span class=\"attr\">discovery.zen.ping.unicast.hosts:</span> [<span class=\"string\">&quot;192.168.100.35&quot;</span>]</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"启动和关闭\"><a href=\"#启动和关闭\" class=\"headerlink\" title=\"启动和关闭\"></a>启动和关闭</h1><h2 id=\"启动\"><a href=\"#启动\" class=\"headerlink\" title=\"启动\"></a>启动</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./bin/elasticsearch -Des.insecure.allow.root=<span class=\"literal\">true</span> </span><br></pre></td></tr></table></figure>\n\n<h2 id=\"守护模式\"><a href=\"#守护模式\" class=\"headerlink\" title=\"守护模式\"></a>守护模式</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./bin/elasticsearch -Des.insecure.allow.root=<span class=\"literal\">true</span> -d </span><br></pre></td></tr></table></figure>\n\n<h2 id=\"关闭\"><a href=\"#关闭\" class=\"headerlink\" title=\"关闭\"></a>关闭</h2><p>直接 <code>kill</code> 进程</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">kill</span> -9 pid</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"加个脚本\"><a href=\"#加个脚本\" class=\"headerlink\" title=\"加个脚本\"></a>加个脚本</h2><p><code>vim start.sh </code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">!/bin/bash</span></span><br><span class=\"line\"></span><br><span class=\"line\">echo &quot;elasticsearch start...&quot;</span><br><span class=\"line\">/home/icampus3.0/elasticsearch-2.4.6/bin/elasticsearch -Des.insecure.allow.root=true -d</span><br></pre></td></tr></table></figure>\n\n<p><code>vim stop.sh</code></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">!/bin/bash</span></span><br><span class=\"line\"><span class=\"meta prompt_\">#</span><span class=\"language-bash\">created by code</span></span><br><span class=\"line\"></span><br><span class=\"line\">echo &quot;elasticsearch stoped.....&quot;</span><br><span class=\"line\">pid=$(ps aux|grep -v grep|grep &quot;elasticsearch&quot;|awk &#x27;&#123;print $2&#125;&#x27;);</span><br><span class=\"line\">if [[ $pid -gt 1 ]]; then</span><br><span class=\"line\">    kill -9 $pid</span><br><span class=\"line\">fi</span><br></pre></td></tr></table></figure>\n\n<p><code>vim restart.sh</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#!/bin/bash</span><br><span class=\"line\"></span><br><span class=\"line\">cd /home/icampus3.0/elasticsearch-2.4.6</span><br><span class=\"line\">./stop.sh</span><br><span class=\"line\">./start.sh</span><br></pre></td></tr></table></figure>\n\n<p>给权限 :</p>\n<p><code>chmod 755 start.sh stop.sh restart.sh</code></p>\n","text":" ES最新版已经到 7.x 了, 想用最新版啊, 多了很多特性.但是这个环境是做业务测试的, 原来用的就是 2.4.6 , 防止出问题, 延续了. 下载安装进入...","permalink":"/post/Linux-安装配置-ElasticSearch-2-4-6","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"ElasticSearch","slug":"ElasticSearch","count":1,"path":"api/categories/ElasticSearch.json"}],"tags":[{"name":"Linux","slug":"Linux","count":8,"path":"api/tags/Linux.json"},{"name":"Elasticsearch","slug":"Elasticsearch","count":1,"path":"api/tags/Elasticsearch.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">下载安装</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">基础配置</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%90%AF%E5%8A%A8%E5%92%8C%E5%85%B3%E9%97%AD\"><span class=\"toc-text\">启动和关闭</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%90%AF%E5%8A%A8\"><span class=\"toc-text\">启动</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%AE%88%E6%8A%A4%E6%A8%A1%E5%BC%8F\"><span class=\"toc-text\">守护模式</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%85%B3%E9%97%AD\"><span class=\"toc-text\">关闭</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8A%A0%E4%B8%AA%E8%84%9A%E6%9C%AC\"><span class=\"toc-text\">加个脚本</span></a></li></ol></li></ol>","author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"Idea 自动生成 PO 脚本","uid":"f37e90084f71b064e32056ae6b93b141","slug":"Idea-自动生成-PO-脚本","date":"2020-09-30T05:28:48.000Z","updated":"2025-04-30T08:11:18.846Z","comments":true,"path":"api/articles/Idea-自动生成-PO-脚本.json","keywords":null,"cover":null,"text":" 使用 Groovy 脚本生成对应的PO, 非 Mybatis逆向工程生成, 来自: IDEA – 自动生成POJO Groovy脚本记录12345678910...","permalink":"/post/Idea-自动生成-PO-脚本","photos":[],"count_time":{"symbolsCount":"4.2k","symbolsTime":"4 mins."},"categories":[{"name":"Idea","slug":"Idea","count":4,"path":"api/categories/Idea.json"}],"tags":[{"name":"Idea","slug":"Idea","count":4,"path":"api/tags/Idea.json"},{"name":"Java","slug":"Java","count":11,"path":"api/tags/Java.json"}],"author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Linux Mycat 安装","uid":"d541a36f3dacb48a21926b2d741c0c48","slug":"Linux-Mycat-安装","date":"2020-09-28T03:13:46.000Z","updated":"2025-04-30T08:11:18.861Z","comments":true,"path":"api/articles/Linux-Mycat-安装.json","keywords":null,"cover":[],"text":" 最近有个数据迁移需求, 量比较大, 搞个新环境测试下~ 以下内容参考至官方文档: https://github.com/MyCATApache/Mycat-S...","permalink":"/post/Linux-Mycat-安装","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"13 mins."},"categories":[{"name":"Mycat","slug":"Mycat","count":1,"path":"api/categories/Mycat.json"}],"tags":[{"name":"Linux","slug":"Linux","count":8,"path":"api/tags/Linux.json"},{"name":"Mycat","slug":"Mycat","count":1,"path":"api/tags/Mycat.json"},{"name":"_mycat_op_time","slug":"mycat-op-time","count":1,"path":"api/tags/mycat-op-time.json"}],"author":{"name":"Weiba","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/24520686?v=4","link":"/","description":"啊 又忘了更新了！","socials":{"github":"https://github.com/xweiba","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}